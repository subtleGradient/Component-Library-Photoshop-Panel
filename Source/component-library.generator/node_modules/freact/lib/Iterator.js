module.exports = exports = Iterator

var Graph = require('../lib/Graph')
function Iterator(config, state){
  state.isAnIterator = true
  state.iterations = config.iterations
  state.index = -1
  while (++state.index < state.iterations) {
    state.position = state.index / state.iterations
    Graph(config, state)
  }
}
Iterator.Vars = function(config, state){
  var currentState = state
  if (state.getIterator) return;
  while (currentState && !currentState.isAnIterator){
    currentState = currentState.getParent && currentState.getParent()
  }
  state.getIterator = currentState.getThis
}
